---
/*=============== CatÃ¡logo ===============*/

// Initialize Swiper
var swiperAutos = new Swiper('#autos', {
  breakpoints: {
      640: {
          slidesPerView: 1,
          spaceBetween: 10,
      },
      768: {
          slidesPerView: 2,
          spaceBetween: 20,
      },
      1024: {
          slidesPerView: 3,
          spaceBetween: 30,
      },
  },
  autoHeight: true,
  spaceBetween: 10,
  
  pagination: {
      el: '.swiper-pagination',
      clickable: true,
  },
  navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
  },
});

var swiperPickups = new Swiper('#pickups', {
  breakpoints: {
      640: {
          slidesPerView: 1,
          spaceBetween: 10,
      },
      768: {
          slidesPerView: 2,
          spaceBetween: 20,
      },
      1024: {
          slidesPerView: 3,
          spaceBetween: 30,
      },
  },
  autoHeight: true,
  spaceBetween: 10,
  pagination: {
      el: '.swiper-pagination',
      clickable: true,
  },
  navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
  },
});

var swiperCross = new Swiper('#cross', {
  breakpoints: {
      640: {
          slidesPerView: 1,
          spaceBetween: 10,
      },
      768: {
          slidesPerView: 2,
          spaceBetween: 20,
      },
      1024: {
          slidesPerView: 3,
          spaceBetween: 30,
      },
  },
  spaceBetween: 10,
  pagination: {
      el: '.swiper-pagination',
      clickable: true,
  },
  navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
  },
});

// Tab functionality with animations
function showTab(tabId) {
  // Hide all tabs
  document.querySelectorAll('.swiper-container').forEach(tab => {
      tab.classList.add('hidden');
      tab.classList.remove('opacity-100', 'scale-100');
      tab.classList.add('opacity-0', 'scale-95');
  });

  // Show the selected tab with animation
  const selectedTab = document.getElementById(tabId);
  selectedTab.classList.remove('hidden');
  setTimeout(() => {
      selectedTab.classList.remove('opacity-0', 'scale-95');
      selectedTab.classList.add('opacity-100', 'scale-100');
  }, 50);  // Delay for smooth transition
}

document.getElementById('autos-tab').addEventListener('click', function() {
  showTab('autos');
});

document.getElementById('pickups-tab').addEventListener('click', function() {
  showTab('pickups');
});

document.getElementById('cross-tab').addEventListener('click', function() {
  showTab('cross');
});

// Initial tab to show
showTab('autos');

async function fetchData() {
try {
  const response = await fetch("https://63efea4c4d5eb64db0d31d0a.mockapi.io/toyora-cars");
  const data = await response.json();

  

  const cardContainer = document.querySelector(".cars");
  const cardContainer2 = document.querySelector(".trucks");
  const cardContainer3 = document.querySelector(".crossovers");

  data.forEach((car) => {
      if (car.className === "cars") {
          const card = document.createElement("div");
          card.classList.add("swiper-slide", "catalog__item");
          card.innerHTML = `
              <a class="catalog__item-link" href="#">\n            
                  <img class="catalog__item-img" src=${car.src} alt=${car.alt}>\n         
              </a>\n         
              <div class="catalog__item-info">\n
                  <div class="catalog__item-top">\n
                  <span class="catalog__item-year">
                      ${car.year}
                  </span>\n
                  <span>|</span>\n                  
                  <span class="catalog__item-type">
                      ${car.type}
                  </span>\n            
                  </div>\n
                  <div class="catalog__item-middle">\n 
                  <div class="catalog__item-name">\n 
                      ${car.name}\n
                  </div>\n 
                  <p class="catalog__item-text">\n
                      ${car.text}\n
                  </p>\n
                  </div>\n
                  <div class="catalog__item-bottom">\n
                  <button class="catalog__item-btn btn">\n
                      Explorar\n
                  </button>\n
                  <div class="catalog__item-price">\n
                      $${car.price}\n
                  </div>\n
                  </div>\n
              </div>\n
          `;
          cardContainer.appendChild(card);
      } else if(car.className ==="trucks") {
          const card = document.createElement("div");
          card.classList.add("swiper-slide", "catalog__item");
          card.innerHTML = `
              <a class="catalog__item-link" href="#">\n            
                  <img class="catalog__item-img" src=${car.src} alt=${car.alt}>\n         
              </a>\n         
              <div class="catalog__item-info">\n
                  <div class="catalog__item-top">\n
                  <span class="catalog__item-year">
                      ${car.year}
                  </span>\n
                  <span>|</span>\n                  
                  <span class="catalog__item-type">
                      ${car.type}
                  </span>\n            
                  </div>\n
                  <div class="catalog__item-middle">\n 
                  <div class="catalog__item-name">\n 
                      ${car.name}\n
                  </div>\n 
                  <p class="catalog__item-text">\n
                      ${car.text}\n
                  </p>\n
                  </div>\n
                  <div class="catalog__item-bottom">\n
                  <button class="catalog__item-btn btn">\n
                      Explorar\n
                  </button>\n
                  <div class="catalog__item-price">\n
                      $${car.price}\n
                  </div>\n
                  </div>\n
              </div>\n
          `;
          cardContainer2.appendChild(card);
      } else if (car.className === "crossovers") {
          const card = document.createElement("div");
          card.classList.add("swiper-slide", "catalog__item");
          card.innerHTML = `
              <a class="catalog__item-link" href="#">\n            
                  <img class="catalog__item-img" src=${car.src} alt=${car.alt}>\n         
              </a>\n         
              <div class="catalog__item-info">\n
                  <div class="catalog__item-top">\n
                  <span class="catalog__item-year">
                      ${car.year}
                  </span>\n
                  <span>|</span>\n                  
                  <span class="catalog__item-type">
                      ${car.type}
                  </span>\n            
                  </div>\n
                  <div class="catalog__item-middle">\n 
                  <div class="catalog__item-name">\n 
                      ${car.name}\n
                  </div>\n 
                  <p class="catalog__item-text">\n
                      ${car.text}\n
                  </p>\n
                  </div>\n
                  <div class="catalog__item-bottom">\n
                  <button class="catalog__item-btn btn">\n
                      Explorar\n
                  </button>\n
                  <div class="catalog__item-price">\n
                      $${car.price}\n
                  </div>\n
                  </div>\n
              </div>\n
          `;
          cardContainer3.appendChild(card);
      }
  });
} catch (error) {
  console.error("Error fetching data:", error);
}
}

fetchData();
---

<div class="vehicles__catalog catalog">
    <ul class="flex justify-center space-x-4 m-0 mb-8 border-b">
      <li class="cursor-pointer py-2 px-4 text-gray-600 border-b-2 border-transparent hover:border-black hover:transition hover:text-black" id="autos-tab">Autos</li>
      <li class="cursor-pointer py-2 px-4 text-gray-600 border-b-2 border-transparent hover:border-black hover:transition hover:text-black" id="pickups-tab">Pick-Ups</li>
      <li class="cursor-pointer py-2 px-4 text-gray-600 border-b-2 border-transparent hover:border-black hover:transition hover:text-black" id="cross-tab">SUV</li>
  </ul>
  
  <!-- Tab Content -->
  <div id="tab-content">
    <!-- Autos Slider -->
    <div id="autos" class="swiper swiper-container opacity-0 transform scale-95 transition-opacity duration-500">
        <div class="swiper-wrapper cars">
            <!-- Slides for Autos -->
            <!--<div class="swiper-slide bg-white rounded-lg shadow p-4">Auto 1</div>
            <div class="swiper-slide bg-white rounded-lg shadow p-4">Auto 2</div>
            <div class="swiper-slide bg-white rounded-lg shadow p-4">Auto 3</div>-->
        </div>
        <!-- Pagination and Navigation -->
        <div class="swiper-pagination"></div>
        
        <div class="swiper-button-prev">
            <i class="ri-arrow-left-s-line"></i>
        </div>
        <div class="swiper-button-next">
            <i class="ri-arrow-right-s-line"></i>
        </div><div class="swiper-button-next">
            <i class="ri-arrow-right-s-line"></i>
        </div>
    </div>
    
    <!-- Pick-Ups Slider -->
    <div id="pickups" class="swiper swiper-container m-auto hidden opacity-0 transform scale-95 transition-opacity duration-500">
        <div class="swiper-wrapper trucks">
            <!-- Slides for Pick-Ups -->
            <!--<div class="swiper-slide bg-black h-screen rounded-lg shadow p-4">Pick-Up 1</div>
            <div class="swiper-slide bg-white rounded-lg shadow p-4">Pick-Up 2</div>
            <div class="swiper-slide bg-white rounded-lg shadow p-4">Pick-Up 3</div>-->
        </div>
        <!-- Pagination and Navigation -->
        <!-- Pagination and Navigation -->
        <div class="swiper-pagination"></div>
        
        <div class="swiper-button-prev">
            <i class="ri-arrow-left-s-line"></i>
        </div>
        <div class="swiper-button-next">
            <i class="ri-arrow-right-s-line"></i>
        </div><div class="swiper-button-next">
            <i class="ri-arrow-right-s-line"></i>
        </div>
    </div>

    <!-- Cross Slider -->
    <div id="cross" class="swiper swiper-container hidden opacity-0 transform scale-95 transition-opacity duration-500">
        <div class="swiper-wrapper crossovers">
            <!-- Slides for Cross -->
            <!--<div class="swiper-slide bg-white rounded-lg shadow p-4">Cross 1</div>
            <div class="swiper-slide bg-white rounded-lg shadow p-4">Cross 2</div>
            <div class="swiper-slide bg-white rounded-lg shadow p-4">Cross 3</div>-->
        </div>
        <!-- Pagination and Navigation -->
        <!-- Pagination and Navigation -->
        <div class="swiper-pagination"></div>
        
        <div class="swiper-button-prev">
            <i class="ri-arrow-left-s-line"></i>
        </div>
        <div class="swiper-button-next">
            <i class="ri-arrow-right-s-line"></i>
        </div><div class="swiper-button-next">
            <i class="ri-arrow-right-s-line"></i>
        </div>
    </div>
  </div>
  </div>

  <script is:inline src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>