---

import ModeloDetalles from "../../components/ModeloDetalles.jsx";
import Layout from "../../layouts/Layout.astro";

// Obtener el parámetro dinámico (slug) desde la URL
const { slug } = Astro.params;

const response = await fetch(`${import.meta.env.SITE}/api/vehicles`)
const data = await response.json()
const modelo = data.find((modelo: { slug: string }) => modelo.slug === slug) || {}

---

<Layout 
    title={`${modelo.name} | Modelos | Derka y Vargas S.A`}
    theme_color="#EB0A1E"
    image={`${import.meta.env.SITE}${modelo.image}`}
>
    <ModeloDetalles client:load slug={slug} />
</Layout>